<ServerManagerConfiguration>
    <!-- ==================================================================== -->
    <ProxyGroup name="cgal_polygon_mesh_processing">
        <Proxy
            class="stkCGALFillHoles"
            name="CGALFillHolesProxy">

            <Documentation
                long_help="Fill the Holes of the Input Surface Mesh with the selected filling type."
                short_help="Fill Holes of Surface Mesh" />

            <InputProperty
                name="Input"
                port_index="0"
                command="SetInputConnection">
                <ProxyGroupDomain name="groups">
                    <Group name="sources" />
                    <Group name="filters" />
                </ProxyGroupDomain>
                <DataTypeDomain name="input_type">
                    <DataType value="vtkPolyData" />
                </DataTypeDomain>
            </InputProperty>

            <IntVectorProperty
                name="UseDelaunayTriangulation"
                command="SetUseDelaunayTriangulation"
                number_of_elements="1"
                default_values="1"
                panel_visibility="advanced">
                <BooleanDomain name="bool" />
                <Documentation>
                    Enable the use of the Delaunay triangulation facet search space for hole filling functions.
                </Documentation>
            </IntVectorProperty>

            <IntVectorProperty
                name="FillingType"
                command="SetFillingType"
                number_of_elements="1"
                default_values="2">
                <EnumerationDomain name="enum">
                    <Entry
                        text="Fill Holes"
                        value="0" />
                    <Entry
                        text="Fill Holes + Refinement"
                        value="1" />
                    <Entry
                        text="Fill Holes + Refinement + Fairing"
                        value="2" />
                </EnumerationDomain>
                <Documentation>
                    Set the Type of Filling.
                </Documentation>
            </IntVectorProperty>

            <DoubleVectorProperty
                name="DensityControlFactor"
                command="SetDensityControlFactor"
                number_of_elements="1"
                default_values="1.414">
                <DoubleRangeDomain
                    min="0.0"
                    name="range" />
                <Documentation>
                    Set the factor to Control the density of the mesh generated by refinement (larger values cause
                    denser refinements). The density of vertices in the refined region is this factor times higher
                    than before refinement.
                </Documentation>
                <Hints>
                    <PropertyWidgetDecorator type="CompositeDecorator">
                        <Expression type="or">
                            <PropertyWidgetDecorator
                                type="GenericDecorator"
                                mode="visibility"
                                property="FillingType"
                                value="1" />
                            <PropertyWidgetDecorator
                                type="GenericDecorator"
                                mode="visibility"
                                property="FillingType"
                                value="2" />
                        </Expression>
                    </PropertyWidgetDecorator>
                </Hints>
            </DoubleVectorProperty>

            <IntVectorProperty
                name="FairingContinuity"
                command="SetFairingContinuity"
                number_of_elements="1"
                default_values="1">
                <EnumerationDomain name="enum">
                    <Entry
                        text="C1 (First Derivative Tangential Continuity)"
                        value="1" />
                    <Entry
                        text="C2 (Second Derivative Tangential Continuity)"
                        value="2" />
                </EnumerationDomain>
                <Documentation>
                    Set the tangential continuity of the output surface for fairing.
                    The possible values are 1 and 2, refering to the C1 and C2 continuity.
                </Documentation>
                <Hints>
                    <PropertyWidgetDecorator
                        type="GenericDecorator"
                        mode="visibility"
                        property="FillingType"
                        value="2" />
                </Hints>
            </IntVectorProperty>

            <IntVectorProperty
                name="EnableMaxHoleBBDiagonal"
                command="SetEnableMaxHoleBBDiagonal"
                label = "Enable Max Hole BB Diagonal"
                number_of_elements="1"
                default_values="0"
                panel_visibility="advanced">
                <BooleanDomain name="bool" />
                <Documentation>
                    If Enabled, Only holes smaller than provided maximum hole bounding box diagonal value will be filled.
                </Documentation>
            </IntVectorProperty>

            <DoubleVectorProperty
                name="MaxHoleBBDiagonal"
                command="SetMaxHoleBBDiagonal"
                label = "Max Hole BB Diagonal"
                number_of_elements="1"
                default_values="1.0e3"
                panel_visibility="advanced">
                <DoubleRangeDomain
                min="0.0"
                name="range" />
                <Documentation>
                    Set the Maximum Diagonal Value for Bounding Box of the Hole.
                </Documentation>
                <Hints>
                    <PropertyWidgetDecorator
                        type="GenericDecorator"
                        mode="visibility"
                        property="EnableMaxHoleBBDiagonal"
                        value="1" />
                </Hints>
            </DoubleVectorProperty>

            <IntVectorProperty
                name="SkipSelfIntersectingPatches"
                command="SetSkipSelfIntersectingPatches"
                number_of_elements="1"
                default_values="0"
                panel_visibility="advanced">
                <BooleanDomain name="bool" />
                <Documentation>
                    Skip filling of holes that contain self-intersections.
                </Documentation>
            </IntVectorProperty>

            <PropertyGroup label="Hole Filling Options">
                <Property name="UseDelaunayTriangulation" />
                <Property name="FillingType" />
                <Property name="DensityControlFactor" />
                <Property name="FairingContinuity" />
                <Property name="EnableMaxHoleBBDiagonal" />
                <Property name="MaxHoleBBDiagonal" />
                <Property name="SkipSelfIntersectingPatches" />
            </PropertyGroup>

        </Proxy>
    </ProxyGroup>
    <!-- ==================================================================== -->
    <ProxyGroup name="filters">
        <SourceProxy
            name="CGALFillHoles"
            class="stkCGALFillHoles"
            label="CGAL Fill Holes"
            base_proxygroup="cgal_polygon_mesh_processing"
            base_proxyname="CGALFillHolesProxy">

            <Hints>
                <ShowInMenu category="CGAL" />
            </Hints>

        </SourceProxy>
    </ProxyGroup>
</ServerManagerConfiguration>